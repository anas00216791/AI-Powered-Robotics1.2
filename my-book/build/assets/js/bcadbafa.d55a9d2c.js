"use strict";(self.webpackChunkmy_book=self.webpackChunkmy_book||[]).push([[909],{3424:(e,r,t)=>{t.r(r),t.d(r,{default:()=>s});var n=t(6540),i=t(6347),o=t(1656),a=t(4848);function s(){var e=(0,i.W6)(),r=(0,i.zy)(),t=(0,n.useState)("processing"),s=t[0],c=t[1],l=(0,n.useState)("Authenticating..."),h=l[0],d=l[1];return(0,n.useEffect)(function(){!function(){var t=new URLSearchParams(r.search),n=t.get("token"),i=t.get("refreshToken"),o=t.get("error");if(o){switch(c("error"),o){case"authentication_failed":d("Authentication failed. Please try again.");break;case"oauth_failed":d("OAuth authentication failed. Please try again.");break;case"server_error":d("Server error occurred. Please try again later.");break;default:d("An error occurred during authentication.")}setTimeout(function(){e.push("/login")},3e3)}else n&&i?(localStorage.setItem("token",n),localStorage.setItem("refreshToken",i),c("success"),d("Authentication successful! Redirecting..."),setTimeout(function(){e.push("/intro")},1500)):(c("error"),d("Invalid authentication response. Please try again."),setTimeout(function(){e.push("/login")},3e3))}()},[r,e]),(0,a.jsxs)(o.A,{title:"Authentication",description:"OAuth authentication callback",children:[(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",padding:"2rem"},children:(0,a.jsxs)("div",{style:{textAlign:"center",maxWidth:"500px",padding:"3rem",backgroundColor:"var(--ifm-background-surface-color)",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:["processing"===s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1.5rem",animation:"spin 1s linear infinite"},children:"\ud83d\udd04"}),(0,a.jsx)("h2",{style:{marginBottom:"1rem"},children:h}),(0,a.jsx)("p",{style:{color:"var(--ifm-color-emphasis-600)"},children:"Please wait while we complete the authentication..."})]}),"success"===s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1.5rem"},children:"\u2705"}),(0,a.jsx)("h2",{style:{marginBottom:"1rem",color:"var(--ifm-color-success)"},children:h}),(0,a.jsx)("p",{style:{color:"var(--ifm-color-emphasis-600)"},children:"You'll be redirected to your dashboard shortly."})]}),"error"===s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1.5rem"},children:"\u274c"}),(0,a.jsx)("h2",{style:{marginBottom:"1rem",color:"var(--ifm-color-danger)"},children:h}),(0,a.jsx)("p",{style:{color:"var(--ifm-color-emphasis-600)"},children:"Redirecting to login page..."})]})]})}),(0,a.jsx)("style",{children:"\n        @keyframes spin {\n          from {\n            transform: rotate(0deg);\n          }\n          to {\n            transform: rotate(360deg);\n          }\n        }\n      "})]})}}}]);