"use strict";(self.webpackChunkmy_book=self.webpackChunkmy_book||[]).push([[238],{2278:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"module-1-ros2/chapter-01-basics","title":"Chapter 1: ROS 2 Basics - Nodes, Topics, and Services","description":"Introduction","source":"@site/docs/module-1-ros2/chapter-01-basics.md","sourceDirName":"module-1-ros2","slug":"/module-1-ros2/chapter-01-basics","permalink":"/module-1-ros2/chapter-01-basics","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Module 1: The Robotic Nervous System (ROS 2)","permalink":"/module-1-ros2/"},"next":{"title":"Chapter 2: Python Agents with rclpy","permalink":"/module-1-ros2/chapter-02-python"}}');var r=n(4848),t=n(8453);const o={sidebar_position:1},c="Chapter 1: ROS 2 Basics - Nodes, Topics, and Services",l={},a=[{value:"Introduction",id:"introduction",level:2},{value:"Core Architecture",id:"core-architecture",level:2},{value:"ROS 2 Nodes",id:"ros-2-nodes",level:2},{value:"What is a Node?",id:"what-is-a-node",level:3},{value:"Why Multiple Nodes?",id:"why-multiple-nodes",level:3},{value:"Node Naming",id:"node-naming",level:3},{value:"Topics: Publish-Subscribe Communication",id:"topics-publish-subscribe-communication",level:2},{value:"The Publish-Subscribe Pattern",id:"the-publish-subscribe-pattern",level:3},{value:"How Topics Work",id:"how-topics-work",level:3},{value:"Topic Naming Conventions",id:"topic-naming-conventions",level:3},{value:"When to Use Topics",id:"when-to-use-topics",level:3},{value:"Services: Request-Response Communication",id:"services-request-response-communication",level:2},{value:"The Request-Response Pattern",id:"the-request-response-pattern",level:3},{value:"How Services Work",id:"how-services-work",level:3},{value:"When to Use Services",id:"when-to-use-services",level:3},{value:"Messages: The Data Structures",id:"messages-the-data-structures",level:2},{value:"Common Message Types",id:"common-message-types",level:3},{value:"Message Definition Example",id:"message-definition-example",level:3},{value:"The ROS 2 Graph",id:"the-ros-2-graph",level:2},{value:"Viewing the Graph",id:"viewing-the-graph",level:3},{value:"Quality of Service (QoS)",id:"quality-of-service-qos",level:2},{value:"Key QoS Policies",id:"key-qos-policies",level:3},{value:"Communication Patterns Compared",id:"communication-patterns-compared",level:2},{value:"Practical Example: A Simple Robot System",id:"practical-example-a-simple-robot-system",level:2},{value:"Summary",id:"summary",level:2},{value:"Further Reading",id:"further-reading",level:2}];function d(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"chapter-1-ros-2-basics---nodes-topics-and-services",children:"Chapter 1: ROS 2 Basics - Nodes, Topics, and Services"})}),"\n",(0,r.jsx)(s.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsx)(s.p,{children:"The Robot Operating System 2 (ROS 2) is a flexible framework for writing robot software. Despite its name, ROS 2 is not an operating system in the traditional sense. Instead, it's a middleware\u2014a layer of software that sits between the operating system and your application code, providing tools and libraries for building robot applications (Macenski et al., 2022)."}),"\n",(0,r.jsx)(s.p,{children:"ROS 2 is the successor to ROS 1, redesigned from the ground up to address limitations in real-time systems, security, and multi-robot communication. It has become the de facto standard for robotics research and is increasingly adopted in commercial robotics applications (Maruyama et al., 2016)."}),"\n",(0,r.jsx)(s.h2,{id:"core-architecture",children:"Core Architecture"}),"\n",(0,r.jsx)(s.p,{children:"At its heart, ROS 2 is a distributed communication system. A robot application is typically composed of many small, specialized programs running simultaneously. These programs need to exchange data efficiently and reliably. ROS 2 provides the infrastructure to make this communication seamless."}),"\n",(0,r.jsx)(s.p,{children:"The fundamental building blocks of any ROS 2 system are:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Nodes"})," - Independent processes that perform computation"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Topics"})," - Named channels for streaming data"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Services"})," - Request-response communication mechanisms"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Messages"})," - Data structures sent between nodes"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Let's explore each of these concepts in detail."}),"\n",(0,r.jsx)(s.h2,{id:"ros-2-nodes",children:"ROS 2 Nodes"}),"\n",(0,r.jsx)(s.h3,{id:"what-is-a-node",children:"What is a Node?"}),"\n",(0,r.jsxs)(s.p,{children:["A ",(0,r.jsx)(s.strong,{children:"node"})," is a single executable process in a ROS 2 system. Think of nodes as individual specialists, each responsible for a specific task. For example, in a mobile robot system, you might have:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"A node that reads data from a laser scanner"}),"\n",(0,r.jsx)(s.li,{children:"A node that processes camera images"}),"\n",(0,r.jsx)(s.li,{children:"A node that plans navigation paths"}),"\n",(0,r.jsx)(s.li,{children:"A node that controls wheel motors"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Each node runs independently and can be started, stopped, or restarted without affecting other nodes (assuming proper error handling). This modularity makes ROS 2 systems easier to develop, test, and maintain."}),"\n",(0,r.jsx)(s.h3,{id:"why-multiple-nodes",children:"Why Multiple Nodes?"}),"\n",(0,r.jsx)(s.p,{children:"You might wonder: why not write one large program instead of many small nodes? The multi-node architecture provides several advantages:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Modularity"}),": Each node has a single, well-defined responsibility"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Reusability"}),": Nodes can be reused across different robot projects"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Fault Isolation"}),": If one node crashes, others can continue running"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Parallel Execution"}),": Nodes can run on different CPU cores or even different computers"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Language Independence"}),": Different nodes can be written in different programming languages"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"node-naming",children:"Node Naming"}),"\n",(0,r.jsx)(s.p,{children:"Every node in a ROS 2 system must have a unique name. Node names use a hierarchical naming scheme with namespaces separated by forward slashes. For example:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"/camera_node"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"/robot1/sensor_processor"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"/navigation/path_planner"})}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Namespaces help organize nodes in complex systems with many components."}),"\n",(0,r.jsx)(s.h2,{id:"topics-publish-subscribe-communication",children:"Topics: Publish-Subscribe Communication"}),"\n",(0,r.jsx)(s.h3,{id:"the-publish-subscribe-pattern",children:"The Publish-Subscribe Pattern"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Topics"})," implement a publish-subscribe communication pattern. This is an asynchronous, many-to-many communication model where:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Publishers"})," send messages to a named topic without knowing who (if anyone) is listening"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Subscribers"})," receive messages from a named topic without knowing who sent them"]}),"\n",(0,r.jsx)(s.li,{children:"Any number of nodes can publish to the same topic"}),"\n",(0,r.jsx)(s.li,{children:"Any number of nodes can subscribe to the same topic"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"This loose coupling between publishers and subscribers makes systems more flexible. You can add new subscribers without modifying publishers, or swap out a publisher without affecting subscribers."}),"\n",(0,r.jsx)(s.h3,{id:"how-topics-work",children:"How Topics Work"}),"\n",(0,r.jsxs)(s.p,{children:["When a node wants to send data, it creates a ",(0,r.jsx)(s.strong,{children:"publisher"})," on a specific topic. The publisher specifies:"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["The topic name (e.g., ",(0,r.jsx)(s.code,{children:"/robot/velocity"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:["The message type (e.g., ",(0,r.jsx)(s.code,{children:"geometry_msgs/Twist"}),")"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["When a node wants to receive data, it creates a ",(0,r.jsx)(s.strong,{children:"subscriber"})," to a specific topic, specifying the same information."]}),"\n",(0,r.jsx)(s.p,{children:"ROS 2's middleware layer (built on DDS - Data Distribution Service) handles all the networking details. Publishers and subscribers can be on the same computer or on different computers on the same network\u2014the code looks identical."}),"\n",(0,r.jsx)(s.h3,{id:"topic-naming-conventions",children:"Topic Naming Conventions"}),"\n",(0,r.jsx)(s.p,{children:"Topic names follow similar conventions to node names:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Use lowercase letters and underscores"}),"\n",(0,r.jsx)(s.li,{children:"Use forward slashes for namespaces"}),"\n",(0,r.jsx)(s.li,{children:"Make names descriptive but concise"}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Examples:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"/camera/image_raw"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"/robot/odometry"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"/sensors/lidar/scan"})}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"when-to-use-topics",children:"When to Use Topics"}),"\n",(0,r.jsx)(s.p,{children:"Topics are ideal for:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Streaming sensor data"})," (camera images, laser scans, IMU readings)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Continuous state information"})," (robot position, battery level)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Command streams"})," (velocity commands to motors)"]}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"Any data that updates frequently"})}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"The publish-subscribe pattern works well when you don't need confirmation that a message was received, and when data is produced and consumed at regular intervals."}),"\n",(0,r.jsx)(s.h2,{id:"services-request-response-communication",children:"Services: Request-Response Communication"}),"\n",(0,r.jsx)(s.h3,{id:"the-request-response-pattern",children:"The Request-Response Pattern"}),"\n",(0,r.jsxs)(s.p,{children:["While topics are great for streaming data, sometimes you need a different communication pattern. ",(0,r.jsx)(s.strong,{children:"Services"})," implement request-response communication, similar to function calls in programming or HTTP requests on the web."]}),"\n",(0,r.jsx)(s.p,{children:"A service interaction has three parts:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["A ",(0,r.jsx)(s.strong,{children:"client"})," node sends a ",(0,r.jsx)(s.strong,{children:"request"})," message"]}),"\n",(0,r.jsxs)(s.li,{children:["A ",(0,r.jsx)(s.strong,{children:"service server"})," node receives the request, performs some computation"]}),"\n",(0,r.jsxs)(s.li,{children:["The server sends a ",(0,r.jsx)(s.strong,{children:"response"})," message back to the client"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Unlike topics, service communication is:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Synchronous"}),": The client waits for a response (with an optional timeout)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"One-to-one"}),": Each request goes to exactly one server"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Bidirectional"}),": Information flows both ways"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"how-services-work",children:"How Services Work"}),"\n",(0,r.jsxs)(s.p,{children:["A node that wants to provide a service creates a ",(0,r.jsx)(s.strong,{children:"service server"}),". The server specifies:"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["The service name (e.g., ",(0,r.jsx)(s.code,{children:"/add_two_ints"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:["The service type (e.g., ",(0,r.jsx)(s.code,{children:"example_interfaces/AddTwoInts"}),")"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"The service type defines both the request message structure and the response message structure."}),"\n",(0,r.jsxs)(s.p,{children:["A node that wants to use a service creates a ",(0,r.jsx)(s.strong,{children:"service client"}),". When the client calls the service, execution blocks until the response arrives or a timeout occurs."]}),"\n",(0,r.jsx)(s.h3,{id:"when-to-use-services",children:"When to Use Services"}),"\n",(0,r.jsx)(s.p,{children:"Services are ideal for:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Infrequent operations"})," (triggering a camera capture, resetting odometry)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Configuration queries"})," (getting parameter values, checking system status)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Computations that produce a result"})," (inverse kinematics, path planning requests)"]}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.strong,{children:"Operations that need confirmation"})}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Use services when you need to know that an operation completed successfully, or when you need a computed result back from another node."}),"\n",(0,r.jsx)(s.h2,{id:"messages-the-data-structures",children:"Messages: The Data Structures"}),"\n",(0,r.jsxs)(s.p,{children:["Both topics and services send ",(0,r.jsx)(s.strong,{children:"messages"}),"\u2014data structures that can be serialized and transmitted over a network. ROS 2 defines messages using a simple interface description language (IDL)."]}),"\n",(0,r.jsx)(s.h3,{id:"common-message-types",children:"Common Message Types"}),"\n",(0,r.jsx)(s.p,{children:"ROS 2 comes with many standard message types organized into packages:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"std_msgs"}),": Basic types like ",(0,r.jsx)(s.code,{children:"String"}),", ",(0,r.jsx)(s.code,{children:"Int32"}),", ",(0,r.jsx)(s.code,{children:"Float64"}),", ",(0,r.jsx)(s.code,{children:"Bool"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"geometry_msgs"}),": Geometric primitives like ",(0,r.jsx)(s.code,{children:"Point"}),", ",(0,r.jsx)(s.code,{children:"Pose"}),", ",(0,r.jsx)(s.code,{children:"Twist"}),", ",(0,r.jsx)(s.code,{children:"Transform"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"sensor_msgs"}),": Sensor data like ",(0,r.jsx)(s.code,{children:"Image"}),", ",(0,r.jsx)(s.code,{children:"LaserScan"}),", ",(0,r.jsx)(s.code,{children:"Imu"}),", ",(0,r.jsx)(s.code,{children:"PointCloud2"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"nav_msgs"}),": Navigation data like ",(0,r.jsx)(s.code,{children:"Odometry"}),", ",(0,r.jsx)(s.code,{children:"Path"})]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Using standard messages promotes interoperability\u2014your nodes can work with nodes written by others if you all use the same message types."}),"\n",(0,r.jsx)(s.h3,{id:"message-definition-example",children:"Message Definition Example"}),"\n",(0,r.jsxs)(s.p,{children:["Here's what a simple message definition looks like (from ",(0,r.jsx)(s.code,{children:"geometry_msgs/Point"}),"):"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"float64 x\nfloat64 y\nfloat64 z\n"})}),"\n",(0,r.jsxs)(s.p,{children:["And a more complex one (",(0,r.jsx)(s.code,{children:"geometry_msgs/Twist"}),"):"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"Vector3 linear\nVector3 angular\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Where ",(0,r.jsx)(s.code,{children:"Vector3"})," is itself defined as:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"float64 x\nfloat64 y\nfloat64 z\n"})}),"\n",(0,r.jsx)(s.p,{children:"Messages can be nested, allowing you to build complex data structures from simpler ones."}),"\n",(0,r.jsx)(s.h2,{id:"the-ros-2-graph",children:"The ROS 2 Graph"}),"\n",(0,r.jsxs)(s.p,{children:["The collection of all nodes, topics, and services in a running system forms what's called the ",(0,r.jsx)(s.strong,{children:"computation graph"})," or simply the ",(0,r.jsx)(s.strong,{children:"ROS graph"}),". You can visualize this graph to understand how your system is structured."]}),"\n",(0,r.jsx)(s.h3,{id:"viewing-the-graph",children:"Viewing the Graph"}),"\n",(0,r.jsx)(s.p,{children:"ROS 2 provides command-line tools to inspect the running system:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# List all running nodes\nros2 node list\n\n# List all active topics\nros2 topic list\n\n# List all available services\nros2 service list\n\n# Show information about a specific topic\nros2 topic info /camera/image_raw\n\n# Echo messages being published on a topic\nros2 topic echo /robot/velocity\n"})}),"\n",(0,r.jsx)(s.p,{children:"These tools are invaluable for debugging and understanding system behavior."}),"\n",(0,r.jsx)(s.h2,{id:"quality-of-service-qos",children:"Quality of Service (QoS)"}),"\n",(0,r.jsx)(s.p,{children:"One powerful feature of ROS 2 is its Quality of Service (QoS) settings. QoS policies let you tune the behavior of topics to match your application's needs."}),"\n",(0,r.jsx)(s.h3,{id:"key-qos-policies",children:"Key QoS Policies"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Reliability"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"RELIABLE"}),": Guarantee message delivery (like TCP)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"BEST_EFFORT"}),": Send messages without guarantees (like UDP, faster)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Durability"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"VOLATILE"}),": New subscribers only get messages published after they subscribe"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"TRANSIENT_LOCAL"}),": New subscribers get some number of past messages"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"History"}),":"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"KEEP_LAST"}),": Keep only the last N messages in the queue"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"KEEP_ALL"}),": Keep all messages (until memory limits)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Choosing the right QoS profile is important. For example, sensor data like laser scans typically uses ",(0,r.jsx)(s.code,{children:"BEST_EFFORT"})," reliability because if a message is lost, a new one arrives milliseconds later. Configuration data might use ",(0,r.jsx)(s.code,{children:"RELIABLE"})," to ensure nothing is missed."]}),"\n",(0,r.jsx)(s.h2,{id:"communication-patterns-compared",children:"Communication Patterns Compared"}),"\n",(0,r.jsx)(s.p,{children:"Let's summarize when to use each communication pattern:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Feature"}),(0,r.jsx)(s.th,{children:"Topics"}),(0,r.jsx)(s.th,{children:"Services"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Pattern"})}),(0,r.jsx)(s.td,{children:"Publish-Subscribe"}),(0,r.jsx)(s.td,{children:"Request-Response"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Direction"})}),(0,r.jsx)(s.td,{children:"Unidirectional"}),(0,r.jsx)(s.td,{children:"Bidirectional"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Timing"})}),(0,r.jsx)(s.td,{children:"Asynchronous"}),(0,r.jsx)(s.td,{children:"Synchronous (blocking)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Cardinality"})}),(0,r.jsx)(s.td,{children:"Many-to-many"}),(0,r.jsx)(s.td,{children:"One-to-one"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Best For"})}),(0,r.jsx)(s.td,{children:"Streaming data, state updates"}),(0,r.jsx)(s.td,{children:"Infrequent operations, computations"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Example Uses"})}),(0,r.jsx)(s.td,{children:"Sensor readings, robot pose"}),(0,r.jsx)(s.td,{children:"Triggering actions, querying status"})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"practical-example-a-simple-robot-system",children:"Practical Example: A Simple Robot System"}),"\n",(0,r.jsx)(s.p,{children:"Let's imagine a simple mobile robot with the following components:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"[Laser Scanner Node] --\x3e publishes to --\x3e /scan topic\n                                            |\n                                            v\n                                   [Obstacle Detector Node]\n                                            |\n                                            v\n                          publishes to --\x3e /obstacles topic\n                                            |\n                                            v\n                                     [Path Planner Node]\n                                            |\n                                            v\n                          publishes to --\x3e /cmd_vel topic\n                                            |\n                                            v\n                                      [Motor Controller Node]\n"})}),"\n",(0,r.jsx)(s.p,{children:"Additionally, you might have a service:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:'[Path Planner Node] <-- service call -- [Web Interface Node]\n                    "Plan path to (x, y)"\n                    --\x3e response --\x3e\n                    "Path computed" or "No path found"\n'})}),"\n",(0,r.jsx)(s.p,{children:"This architecture demonstrates:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Topics"})," for continuous sensor data and commands"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Services"})," for on-demand computation"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Multiple nodes"})," each with a specific responsibility"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Loose coupling"})," allowing components to be developed and tested independently"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(s.p,{children:"In this chapter, you learned about the fundamental building blocks of ROS 2:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Nodes"})," are independent processes that perform specific tasks in your robot system"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Topics"})," enable publish-subscribe communication for streaming data"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Services"})," provide request-response communication for operations that need confirmation"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Messages"})," are the data structures passed between nodes"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Quality of Service"})," settings allow fine-tuning of communication behavior"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"These concepts form the foundation for all ROS 2 applications. Understanding how nodes communicate through topics and services is essential for designing effective robot software architectures."}),"\n",(0,r.jsx)(s.p,{children:"In the next chapter, we'll put this knowledge into practice by writing Python code that creates nodes, publishes to topics, and calls services using the rclpy library."}),"\n",(0,r.jsx)(s.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["ROS 2 Official Documentation: ",(0,r.jsx)(s.a,{href:"https://docs.ros.org/en/humble/",children:"https://docs.ros.org/en/humble/"})]}),"\n",(0,r.jsxs)(s.li,{children:["Macenski, S., Foote, T., Gerkey, B., Lalancette, C., & Woodall, W. (2022). Robot Operating System 2: Design, architecture, and uses in the wild. ",(0,r.jsx)(s.em,{children:"Science Robotics"}),", 7(66)."]}),"\n",(0,r.jsxs)(s.li,{children:["Maruyama, Y., Kato, S., & Azumi, T. (2016). Exploring the performance of ROS2. ",(0,r.jsx)(s.em,{children:"Proceedings of the 13th International Conference on Embedded Software (EMSOFT)"}),", 1-10."]}),"\n",(0,r.jsxs)(s.li,{children:["Data Distribution Service (DDS) Specification: ",(0,r.jsx)(s.a,{href:"https://www.omg.org/spec/DDS/",children:"https://www.omg.org/spec/DDS/"})]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Learning Check"}),": Before moving on, make sure you can:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"\u2713 Explain what a ROS 2 node is and why multiple nodes are used"}),"\n",(0,r.jsx)(s.li,{children:"\u2713 Describe the publish-subscribe pattern used by topics"}),"\n",(0,r.jsx)(s.li,{children:"\u2713 Explain when to use services instead of topics"}),"\n",(0,r.jsx)(s.li,{children:"\u2713 Identify appropriate uses for topics vs. services in a robot system"}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>c});var i=n(6540);const r={},t=i.createContext(r);function o(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);